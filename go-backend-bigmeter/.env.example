# Root .env.example ‚Äî no secrets

# Docker Compose defaults (for local dev)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=bigmeter
TIMEZONE=Asia/Bangkok
PORT=8089

# Optional: override branch list for API-only usage
# BRANCHES=BA01,BA02,BA03

# Sync service (provide your Oracle DSN to enable container)
# Use EZCONNECT format (Service Name or SID)
# Example (Service Name): USER/PASS@host:1521/ORCLPDB1
# Example (SID):          USER/PASS@host:1521/ORCL
# ORACLE_DSN=

# Scheduler modes
# MODE=            # empty=scheduler, or init-once / month-once / ora-test
# YM=              # Gregorian YYYYMM for init-once, month-once, and ora-test

# Cron specs (seconds precision). Defaults match requirements.
# CRON_YEARLY=0 30 1 16 10 *      # 01:30 Oct 16 every year
# CRON_MONTHLY=0 0 8 16 * *       # 08:00 on the 16th monthly
# CRON_ALERT=0 10 9 16,30 * *     # 09:10 on day 16 and 30 monthly

# Enable/disable scheduled jobs (default: true)
# ENABLE_YEARLY_INIT=true   # Set to false to disable yearly cohort init
# ENABLE_MONTHLY_SYNC=true  # Set to false to disable monthly sync
# ENABLE_ALERT=true         # Set to false to disable alert notifications

# Telegram Sync Notifications (optional)
# TELEGRAM_ENABLED=false
# TELEGRAM_BOT_TOKEN=123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
# TELEGRAM_CHAT_ID=-1001234567890

# Telegram Alert Notifications (optional)
# TELEGRAM_ALERT_ENABLED=false
# TELEGRAM_ALERT_CHAT_ID=-1001234567890    # Can be different from sync chat
# TELEGRAM_ALERT_THRESHOLD=20.0            # Alert threshold percentage (e.g., 20 = 20%)
# TELEGRAM_ALERT_LINK=https://bigmeter.pwa.co.th  # Link to include in alert messages

# Telegram Message Templates (optional - use placeholders)
# Available placeholders:
#   Yearly: {fiscal_year}, {branches}, {count}, {duration}, {timestamp}, {failed_branches}, {error}
#   Monthly: {year_month}, {branches}, {count}, {duration}, {timestamp}, {failed_branches}, {error}
# TELEGRAM_YEARLY_PREFIX=üîÑ <b>Big Meter - Yearly Sync</b>
# TELEGRAM_MONTHLY_PREFIX=üìä <b>Big Meter - Monthly Sync</b>
# TELEGRAM_YEARLY_SUCCESS=‚úÖ Yearly cohort init completed successfully\nFiscal Year: {fiscal_year}\nBranches: {count} ({branches})\nDuration: {duration}\nTime: {timestamp}
# TELEGRAM_YEARLY_FAILURE=‚ùå Yearly cohort init failed\nFiscal Year: {fiscal_year}\nFailed Branches: {failed_branches}\nError: {error}\nTime: {timestamp}
# TELEGRAM_MONTHLY_SUCCESS=‚úÖ Monthly sync completed successfully\nYear-Month: {year_month}\nBranches: {count} ({branches})\nDuration: {duration}\nTime: {timestamp}
# TELEGRAM_MONTHLY_FAILURE=‚ùå Monthly sync failed\nYear-Month: {year_month}\nFailed Branches: {failed_branches}\nError: {error}\nTime: {timestamp}
